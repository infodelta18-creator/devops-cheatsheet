export interface Cheatsheet {
  title: string;
  description: string;
  category: string;
  slug: string;
  icon: string;
  difficulty: 'Beginner' | 'Intermediate' | 'Advanced';
  popularity: number;
  tags: string[];
  status?: string;
  updatedAt: string;
  content?: string;
}

export const getAllCheatsheets = async (category?: string): Promise<Cheatsheet[]> => {
  try {
    const protocol = process.env.NODE_ENV === 'development' ? 'http' : 'https';
    const host = typeof window === 'undefined' ? 'localhost:3000' : window.location.host;
    const baseUrl = `${protocol}://${host}`;

    const url = category 
      ? `${baseUrl}/api/cheatsheets?limit=1000&category=${category}`
      : `${baseUrl}/api/cheatsheets?limit=1000`;
    const response = await fetch(url);
    const data = await response.json();
    return data.cheatsheets || [];
  } catch (error) {
    console.error('Error fetching cheatsheets:', error);
    return [];
  }
};

export const cheatsheets: Cheatsheet[] = [
  // CI-CD
  {
    title: "Jenkins",
    description: "Jenkins CI/CD avtomatlashtirish serveri bo'yicha batafsil qo'llanma",
    category: "CI-CD",
    slug: "Jenkins",
    icon: "<Activity />",
    difficulty: "Beginner",
    popularity: 85,
    tags: ["CI/CD", "Automation", "Pipeline"],
    status: "",
    updatedAt: "",
  },
  {
    title: "GitHub Actions",
    description: "GitHub’ning o‘rnatilgan CI/CD yechimi",
    category: "CI-CD",
    slug: "GitHub-Actions",
    icon: "<Activity />",
    difficulty: "Beginner",
    popularity: 90,
    tags: ["CI/CD", "GitHub", "Automation"],
    status: "",
    updatedAt: "",
  },
  {
    title: "GitLab CI",
    description: "GitLabning integratsiyalashgan CI/CD platformasi",
    category: "CI-CD",
    slug: "GitLab-CI",
    icon: "<Activity />",
    difficulty: "Intermediate",
    popularity: 85,
    tags: ["CI/CD", "GitLab", "Pipeline"],
    status: "",
    updatedAt: "",
  },
  {
    title: "CircleCI",
    description: "Bulutga asoslangan CI/CD platformasi",
    category: "CI-CD",
    slug: "CircleCI",
    icon: "<Activity />",
    difficulty: "Intermediate",
    popularity: 80,
    tags: ["CI/CD", "Cloud", "Automation"],
    status: "",
    updatedAt: "",
  },

  // Containerization
  {
    title: "Docker",
    description: "Ilovalarni qurish va jo'natish uchun konteyner platformasi",
    category: "Containerization",
    slug: "Docker",
    icon: "<Box />",
    difficulty: "Beginner",
    popularity: 98,
    tags: ["Containers", "DevOps", "Microservices"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Kubernetes",
    description: "Konteyner orkestratsiya platformasi",
    category: "Containerization",
    slug: "Kubernetes",
    icon: "<Box />",
    difficulty: "Advanced",
    popularity: 95,
    tags: ["Containers", "Orchestration", "Cloud-Native"],
    status: "",
    updatedAt: "",
  },
  {
    title: "CRI-O",
    description: "Ochiq konteyner tashabbusiga asoslangan konteyner ish vaqti",
    category: "Containerization",
    slug: "CRI-O",
    icon: "<Box />",
    difficulty: "Beginner",
    popularity: 90,
    tags: ["Containers", "Orchestration", "Cloud-Native"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Podman",
    description: "Ochiq kodli konteyner dvigateli",
    category: "Containerization",
    slug: "Podman",
    icon: "<Box />",
    difficulty: "Beginner",
    popularity: 90,
    tags: ["Containers", "Orchestration", "Cloud-Native"],
    status: "",
    updatedAt: "",
  },
  {
    title: "OpenShift",
    description: "Ilovalarni qurish va jo'natish uchun konteyner platformasi",
    category: "Containerization",
    slug: "OpenShift",
    icon: "<Box />",
    difficulty: "Beginner",
    popularity: 90,
    tags: ["Containers", "Orchestration", "Cloud-Native"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Helm",
    description: "Kubernetes uchun paket menejeri",
    category: "Containerization",
    slug: "Helm",
    icon: "<Box />",
    difficulty: "Beginner",
    popularity: 90,
    tags: ["Containers", "Orchestration", "Cloud-Native"],
    status: "",
    updatedAt: "",
  },

  // Infrastructure Management
  {
    title: "Ansible",
    description: "Agentsiz avtomatlashtirish platformasi",
    category: "Infrastructure-Management",
    slug: "Ansible",
    icon: "<Server />",
    difficulty: "Intermediate",
    popularity: 90,
    tags: ["Automation", "Configuration Management", "IaC"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Terraform",
    description: "Infratuzilma kod vositasi sifatida",
    category: "Infrastructure-Management",
    slug: "Terraform",
    icon: "<Server />",
    difficulty: "Intermediate",
    popularity: 92,
    tags: ["IaC", "Cloud", "Automation"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Chef",
    description: "Infratuzilma kod vositasi sifatida",
    category: "Infrastructure-Management",
    slug: "Chef",
    icon: "<Server />",
    difficulty: "Intermediate",
    popularity: 90,
    tags: ["IaC", "Cloud", "Automation"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Puppet",
    description: "Infratuzilma kod vositasi sifatida",
    category: "Infrastructure-Management",
    slug: "Puppet",
    icon: "<Server />",
    difficulty: "Intermediate",
    popularity: 90,
    tags: ["IaC", "Cloud", "Automation"],
    status: "",
    updatedAt: "",
  },

  // Monitoring
  {
    title: "Prometheus",
    description: "Monitoring va ogohlantirish vositalari to'plami",
    category: "Monitoring",
    slug: "Prometheus",
    icon: "<BarChart />",
    difficulty: "Intermediate",
    popularity: 88,
    tags: ["Monitoring", "Metrics", "Alerting"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Grafana",
    description: "Analitika va monitoring platformasi",
    category: "Monitoring",
    slug: "Grafana",
    icon: "<BarChart />",
    difficulty: "Intermediate",
    popularity: 87,
    tags: ["Monitoring", "Visualization", "Dashboards"],
    status: "",
    updatedAt: "",
  },
  {
    title: "ELK Stack",
    description: "Elasticsearch, Logstash va Kibana",
    category: "Monitoring",
    slug: "ELK-Stack",
    icon: "<BarChart />",
    difficulty: "Intermediate",
    popularity: 87,
    tags: ["Monitoring", "Visualization", "Dashboards"],
    status: "",
    updatedAt: "",
  },
  {
    title: "CloudWatch",
    description: "Monitoring va ogohlantirish vositasi",
    category: "Monitoring",
    slug: "CloudWatch",
    icon: "<BarChart />",
    difficulty: "Intermediate",
    popularity: 87,
    tags: ["Monitoring", "Visualization", "Dashboards"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Nagios",
    description: "Monitoring va ogohlantirish vositasi",
    category: "Monitoring",
    slug: "Nagios",
    icon: "<BarChart />",
    difficulty: "Intermediate",
    popularity: 87,
    tags: ["Monitoring", "Visualization", "Dashboards"],
    status: "",
    updatedAt: "",
  },

  // Security
  {
    title: "SonarQube",
    description: "Kod sifati va xavfsizlik skaneri",
    category: "Security",
    slug: "SonarQube",
    icon: "<Shield />",
    difficulty: "Intermediate",
    popularity: 85,
    tags: ["Security", "Code Quality", "Static Analysis"],
    status: "",
    updatedAt: "",
  },
  {
    title: "HashiCorp Vault",
    description: "Sirlarni boshqarish vositasi",
    category: "Security",
    slug: "HashiCorp-Vault",
    icon: "<Shield />",
    difficulty: "Advanced",
    popularity: 83,
    tags: ["Security", "Secrets Management", "Authentication"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Aqua Security",
    description: "Kubernetes uchun xavfsizlik vositasi",
    category: "Security",
    slug: "AquaSec",
    icon: "<Shield />",
    difficulty: "Advanced",
    popularity: 83,
    tags: ["Security", "Secrets Management", "Authentication"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Trivy",
    description: "Kubernetes uchun xavfsizlik vositasi",
    category: "Security",
    slug: "Trivy",
    icon: "<Shield />",
    difficulty: "Advanced",
    popularity: 83,
    tags: ["Security", "Secrets Management", "Authentication"],
    status: "",
    updatedAt: "",
  },

  // Version Control
  {
    title: "GitLab",
    description: "To'liq DevOps platformasi",
    category: "Version-Control",
    slug: "GitLab",
    icon: "<GitBranch />",
    difficulty: "Beginner",
    popularity: 88,
    tags: ["Version Control", "CI/CD", "DevOps Platform"],
    status: "",
    updatedAt: "",
  },
  {
    title: "GitHub",
    description: "Dasturiy ta'minotni ishlab chiqish platformasi",
    category: "Version-Control",
    slug: "GitHub",
    icon: "<GitBranch />",
    difficulty: "Beginner",
    popularity: 95,
    tags: ["Version Control", "Collaboration", "Open Source"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Bitbucket",
    description: "Dasturiy ta'minotni ishlab chiqish platformasi",
    category: "Version-Control",
    slug: "Bitbucket",
    icon: "<GitBranch />",
    difficulty: "Beginner",
    popularity: 95,
    tags: ["Version Control", "Collaboration", "Open Source"],
    status: "",
    updatedAt: "",
  },

  // Cloud
  {
    title: "AWS",
    description: "Amazon Web Services bulut platformasi",
    category: "Cloud",
    slug: "AWS",
    icon: "<Cloud />",
    difficulty: "Advanced",
    popularity: 96,
    tags: ["Cloud", "AWS", "Infrastructure"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Azure",
    description: "Microsoft bulut platformasi",
    category: "Cloud",
    slug: "Azure",
    icon: "<Cloud />",
    difficulty: "Advanced",
    popularity: 90,
    tags: ["Cloud", "Microsoft", "Infrastructure"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Google Cloud",
    description: "Google bulut platformasi",
    category: "Cloud",
    slug: "GCP",
    icon: "<Cloud />",
    difficulty: "Advanced",
    popularity: 90,
    tags: ["Cloud", "Google", "Infrastructure"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Kubernetes On AWS",
    description: "AWSdagi Kubernetes",
    category: "Cloud",
    slug: "Kubernetes-on-AWS",
    icon: "<Cloud />",
    difficulty: "Advanced",
    popularity: 90,
    tags: ["Cloud", "Kubernetes", "AWS", "Infrastructure"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Terraform On AWS",
    description: "AWSdagi Terraform",
    category: "Cloud",
    slug: "Terraform-on-AWS",
    icon: "<Cloud />",
    difficulty: "Advanced",
    popularity: 90,
    tags: ["Cloud", "Terraform", "AWS", "Infrastructure"],
    status: "",
    updatedAt: "",
  },

  // Networking
  {
    title: "Istio",
    description: "Kubernetes uchun xizmat ko'rsatish tarmog'i",
    category: "Networking",
    slug: "Istio",
    icon: "<Network />",
    difficulty: "Advanced",
    popularity: 82,
    tags: ["Service Mesh", "Kubernetes", "Networking"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Consul",
    description: "Xizmat ko'rsatish tarmoq platformasi",
    category: "Networking",
    slug: "Consul",
    icon: "<Network />",
    difficulty: "Advanced",
    popularity: 80,
    tags: ["Service Discovery", "Networking", "HashiCorp"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Envoy",
    description: "Kubernetes uchun xizmat ko'rsatish tarmog'i",
    category: "Networking",
    slug: "Envoy",
    icon: "<Network />",
    difficulty: "Advanced",
    popularity: 80,
    tags: ["Service Mesh", "Kubernetes", "Networking"],
    status: "",
    updatedAt: "",
  },
  {
    title: "Linkerd",
    description: "Kubernetes uchun xizmat ko'rsatish tarmog'i",
    category: "Networking",
    slug: "Linkerd",
    icon: "<Network />",
    difficulty: "Advanced",
    popularity: 80,
    tags: ["Service Mesh", "Kubernetes", "Networking"],
    status: "",
    updatedAt: "",
  },
];

export async function getCheatsheetBySlug(
  category: string,
  slug: string,
): Promise<Cheatsheet | null> {
  const cheatsheet = cheatsheets.find(
    (c) =>
      c.category.toLowerCase() === category.toLowerCase() &&
      c.slug.toLowerCase() === slug.toLowerCase(),
  );
  return cheatsheet || null;
}